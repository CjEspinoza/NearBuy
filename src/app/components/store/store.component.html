<app-categories></app-categories>
<div class="container-fluid">

    <div class="text-right mb-4">
      <button class="btn btn-primary p-2" (click)="openModal(popup, null)">
        <img src="https://cdn3.iconfinder.com/data/icons/eightyshades/512/14_Add-512.png" class="add-icon"> Add
      </button>
    </div>
  
    <div class="row" *ngIf="itemList.length">
        <div class="col-md-3 p-3" *ngFor="let items of itemList">

            <div class="card p-3 d-flex">
                <div class="product-con d-flex justify-content-center"><img class="product-image" src="{{items.image}}"></div>
                <div class="sub-heading">Name: {{items.name}}</div>
                <div class="sub-heading">Price: PHP {{items.price}}.00</div>
  
          <div class="icon">
            <img src="https://lh3.googleusercontent.com/proxy/9y9208xGYlikBVgJR3j2fQfGiwIZlb0PveuW2P6vT64aq-fGQstLCKWC6Zfde1rOyweXbWfq4DMX9vpZTTEOQm1BuRoa8941FOicals2Hg" class="delete-icon" (click)="deleteItems(items.id)">
          </div>
        </div>
  
      </div>
    </div>
  
  </div>
  
  <ng-template #popup let-d="dismiss">
    <div class="modal-header text-dark d-flex justify-content-center">
      {{itemDetails ? 'Update' : 'Add'}} Grocery Items
    </div>
  
    <div class="modal-body">
      <form [formGroup]="form">

        <div class="form-group">
            <label for="image">Image URL</label>
            <input id="image" type="text" formControlName="image"
                   class="form-control" [ngClass]="{'error-border': !form.get('image').valid && form.get('image').dirty}"/>
          </div>
  
        <div class="form-group">
          <label for="name">Name</label>
          <input id="name" type="text" formControlName="name"
                 class="form-control" [ngClass]="{'error-border': !form.get('name').valid && form.get('name').dirty}"/>
        </div>
  
        <div class="form-group">
          <label for="price">Price</label>
          <input id="price" type="number" formControlName="price"
                 class="form-control" [ngClass]="{'error-border': !form.get('price').valid && form.get('price').dirty}"/>
        </div>
        <div class="form-group">
          <label for="category">Category</label>
          <input id="category" type="text" formControlName="category"
                 class="form-control" [ngClass]="{'error-border': !form.get('category').valid && form.get('category').dirty}"/>
        </div>
        
  
      </form>
  
      <div class="text-center">
        <button class="btn btn-primary btn-sm pl-4 pr-4 mr-2"
                [disabled]="!form.valid"
                (click)="itemDetails ? updateItems(itemDetails.id) : addItems(); d()">Save</button>
        <button class="btn btn-secondary btn-sm pl-4 pr-4 ml-2" (click)="d()">Cancel</button>
      </div>
    </div>
  </ng-template>